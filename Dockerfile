FROM python:3.11-slim

LABEL "com.github.actions.name"="Solidity Vulnerability Scanner"
LABEL "com.github.actions.description"="Scan Solidity files for vulnerabilities using the OpenAI API"
LABEL "com.github.actions.icon"="search"
LABEL "com.github.actions.color"="blue"
LABEL "com.github.actions.inputs.openai_api_key.description"="Your OpenAI API key"
LABEL "com.github.actions.inputs.openai_api_key.required"="true"
LABEL "com.github.actions.inputs.engine.description"="The engine identifier for the OpenAI API (e.g., 'text-davinci-002' or 'gpt-4-variant')"
LABEL "com.github.actions.inputs.engine.required"="true"


RUN pip install openai spacy reportlab
RUN python -m spacy download en_core_web_sm

COPY scan_solidity.py /scan_solidity.py
ENTRYPOINT ["python", "/scan_solidity.py"]


